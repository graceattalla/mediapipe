#initial data from hand for one frame- returns approx correct looking hand
# import matplotlib.pyplot as plt

# x = [0.377233, 0.425344, 0.467225, 0.496898, 0.523758, 0.425563, 0.435672, 0.442749, 0.448513, 0.396138, 0.395281, 0.399026, 0.401003, 0.368767, 0.359325, 0.356918, 0.354911, 0.342760, 0.324344, 0.320058, 0.315861]
# y = [0.709177, 0.676332, 0.599149, 0.539251, 0.513629, 0.501816, 0.417613, 0.360362, 0.309644, 0.491208, 0.394221, 0.331136, 0.276316, 0.505806, 0.418157, 0.359067, 0.308266, 0.538703, 0.438455, 0.379334, 0.330190]

# plt.scatter(x, y)
# plt.xlabel('x')
# plt.ylabel('y')
# plt.title('Hand Landmarks')
# plt.grid(True)
# plt.show()

#results for one frame --> put into single row of a dataframe
# HandLandmarkerResult(handedness=[[Category(index=0, score=0.9732475876808167, display_name='Left', category_name='Left')]], 
# hand_landmarks=[
# [NormalizedLandmark(x=0.3772333860397339, y=0.7091767191886902, z=3.028511912361864e-07, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.42534396052360535, y=0.6763322353363037, z=-0.022319240495562553, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.46722474694252014, y=0.5991486310958862, z=-0.02832084707915783, visibility=0.0, presence=0.0), 
# NormalizedLandmark(x=0.49689799547195435, y=0.5392506122589111, z=-0.031676966696977615, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.523758053779602, y=0.5136287808418274, z=-0.03656357526779175, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.4255625307559967, y=0.5018162131309509, z=-0.023102661594748497, visibility=0.0, presence=0.0), 
# NormalizedLandmark(x=0.4356721043586731, y=0.41761282086372375, z=-0.033675916492938995, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.44274941086769104, y=0.3603619337081909, z=-0.04419676214456558, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.4485127925872803, y=0.3096437454223633, z=-0.053955040872097015, visibility=0.0, presence=0.0), 
# NormalizedLandmark(x=0.3961380124092102, y=0.49120771884918213, z=-0.023230597376823425, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.39528053998947144, y=0.3942207098007202, z=-0.03179997205734253, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.3990260064601898, y=0.33113595843315125, z=-0.04583499953150749, visibility=0.0, presence=0.0), 
# NormalizedLandmark(x=0.4010030925273895, y=0.27631643414497375, z=-0.05856972187757492, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.368767112493515, y=0.5058058500289917, z=-0.025045722723007202, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.35932472348213196, y=0.41815686225891113, z=-0.03669014945626259, visibility=0.0, presence=0.0), 
# NormalizedLandmark(x=0.35691848397254944, y=0.359067440032959, z=-0.05158502608537674, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.35491061210632324, y=0.30826568603515625, z=-0.06388978660106659, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.34275975823402405, y=0.5387030839920044, z=-0.028683504089713097, visibility=0.0, presence=0.0), 
# NormalizedLandmark(x=0.32434388995170593, y=0.47959333658218384, z=-0.04350186884403229, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.31386780738830566, y=0.4353618919849396, z=-0.05364149808883667, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.3065713942050934, y=0.3942101001739502, z=-0.06129711866378784, visibility=0.0, presence=0.0)
# ]], 
# hand_world_landmarks=[
# [Landmark(x=-0.012973317876458168, y=0.0757509097456932, z=-0.011408389545977116, visibility=0.0, presence=0.0), Landmark(x=0.012383898720145226, y=0.05544303357601166, z=-0.008929677307605743, visibility=0.0, presence=0.0), Landmark(x=0.03947128728032112, y=0.0361691415309906, z=-0.011858017183840275, visibility=0.0, presence=0.0), 
# Landmark(x=0.06845341622829437, y=0.01723380759358406, z=-0.006063464563339949, visibility=0.0, presence=0.0), Landmark(x=0.0908190906047821, y=0.0045421309769153595, z=-0.0049042850732803345, visibility=0.0, presence=0.0), Landmark(x=0.01738838106393814, y=-0.00355475302785635, z=0.004493293818086386, visibility=0.0, presence=0.0), 
# Landmark(x=0.02815604954957962, y=-0.0227537639439106, z=0.00033936387626454234, visibility=0.0, presence=0.0), Landmark(x=0.03679177165031433, y=-0.04068174213171005, z=-0.007569663226604462, visibility=0.0, presence=0.0), Landmark(x=0.03960789740085602, y=-0.05670231580734253, z=-0.031867410987615585, visibility=0.0, presence=0.0), 
# Landmark(x=-6.575416773557663e-05, y=-0.0056948186829686165, z=0.007877906784415245, visibility=0.0, presence=0.0), Landmark(x=0.009939069859683514, y=-0.033348433673381805, z=-0.0020248887594789267, visibility=0.0, presence=0.0), Landmark(x=0.01109015941619873, y=-0.058568164706230164, z=-0.016067616641521454, visibility=0.0, presence=0.0), 
# Landmark(x=0.015070613473653793, y=-0.08031006902456284, z=-0.0353747233748436, visibility=0.0, presence=0.0), Landmark(x=-0.013966623693704605, y=-0.0008361628279089928, z=-0.003892937209457159, visibility=0.0, presence=0.0), Landmark(x=-0.013746640644967556, y=-0.027912698686122894, z=-0.008751298300921917, visibility=0.0, presence=0.0), 
# Landmark(x=-0.013654693961143494, y=-0.04796728864312172, z=-0.01741456612944603, visibility=0.0, presence=0.0), Landmark(x=-0.011240273714065552, y=-0.06522563099861145, z=-0.032649822533130646, visibility=0.0, presence=0.0), Landmark(x=-0.028988249599933624, y=0.009852170012891293, z=-0.01180991716682911, visibility=0.0, presence=0.0), 
# Landmark(x=-0.03265799582004547, y=-0.0070657748728990555, z=-0.012981479987502098, visibility=0.0, presence=0.0), Landmark(x=-0.04221794754266739, y=-0.02608153410255909, z=-0.018409520387649536, visibility=0.0, presence=0.0), Landmark(x=-0.0429975762963295, y=-0.042775001376867294, z=-0.02209891378879547, visibility=0.0, presence=0.0)
# ]])

# HandLandmarkerResult(
#     handedness=[[
#     Category(index=1, score=0.9398572444915771, display_name='Right', category_name='Right')], 
#     [Category(index=0, score=0.987503707408905, display_name='Left', category_name='Left')]], 
#     hand_landmarks=[[
#         NormalizedLandmark(x=0.6891505122184753, y=0.7276470065116882, z=2.12550574474335e-07, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.6555901169776917, y=0.675438404083252, z=-0.01575036160647869, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.6366965770721436, y=0.5997618436813354, z=-0.023806679993867874, visibility=0.0, presence=0.0), 
#         NormalizedLandmark(x=0.626446545124054, y=0.5386450290679932, z=-0.031190015375614166, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.6130555868148804, y=0.496094286441803, z=-0.038781244307756424, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.6921505928039551, y=0.5170438289642334, z=-0.010637237690389156, visibility=0.0, presence=0.0), 
#         NormalizedLandmark(x=0.6946697235107422, y=0.43763136863708496, z=-0.023304257541894913, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.6972102522850037, y=0.38798603415489197, z=-0.03520675003528595, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.7014296054840088, y=0.3461955785751343, z=-0.04432542249560356, visibility=0.0, presence=0.0), 
#         NormalizedLandmark(x=0.7186957597732544, y=0.5235472917556763, z=-0.014173091389238834, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.7310241460800171, y=0.43638837337493896, z=-0.025307368487119675, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.738774299621582, y=0.38191378116607666, z=-0.03651197999715805, visibility=0.0, presence=0.0), 
#         NormalizedLandmark(x=0.7462591528892517, y=0.3369443416595459, z=-0.044911351054906845, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.7402489185333252, y=0.547209620475769, z=-0.020354490727186203, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.7590782642364502, y=0.47194904088974, z=-0.03301926702260971, visibility=0.0, presence=0.0), 
#         NormalizedLandmark(x=0.7698477506637573, y=0.4235338568687439, z=-0.04171241819858551, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.7789024710655212, y=0.38111114501953125, z=-0.04782669618725777, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.7579109072685242, y=0.584863543510437, z=-0.02817811816930771, visibility=0.0, presence=0.0),
#         NormalizedLandmark(x=0.7812424302101135, y=0.5349059104919434, z=-0.039272092282772064, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.7958252429962158, y=0.501246452331543, z=-0.043458640575408936, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.8087387084960938, y=0.46931737661361694, z=-0.04624982550740242, visibility=0.0, presence=0.0)], 
        
#         [NormalizedLandmark(x=0.21334770321846008, y=0.7176812887191772, z=3.915244803920359e-07, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.25232797861099243, y=0.6678417921066284, z=-0.020280301570892334, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.28204113245010376, y=0.5968160629272461, z=-0.02936735562980175, visibility=0.0, presence=0.0), 
#         NormalizedLandmark(x=0.3055732846260071, y=0.5431458353996277, z=-0.03716759383678436, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.32777369022369385, y=0.5096665024757385, z=-0.04498109966516495, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.23067663609981537, y=0.5105809569358826, z=-0.01538765337318182, visibility=0.0, presence=0.0), 
#         NormalizedLandmark(x=0.23894545435905457, y=0.4296687841415405, z=-0.027551403269171715, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.24340727925300598, y=0.3794940710067749, z=-0.03837509825825691, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.24608229100704193, y=0.33695197105407715, z=-0.04616446793079376, visibility=0.0, presence=0.0), 
#         NormalizedLandmark(x=0.20177970826625824, y=0.5106193423271179, z=-0.01577976532280445, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.20118314027786255, y=0.4181196987628937, z=-0.02568340301513672, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.19955623149871826, y=0.3607429265975952, z=-0.03567878156900406, visibility=0.0, presence=0.0), 
#         NormalizedLandmark(x=0.19757378101348877, y=0.3134584426879883, z=-0.04342679679393768, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.17527423799037933, y=0.5279979705810547, z=-0.018990391865372658, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.16843023896217346, y=0.44364359974861145, z=-0.030645577237010002, visibility=0.0, presence=0.0), 
#         NormalizedLandmark(x=0.16601064801216125, y=0.38915568590164185, z=-0.040816836059093475, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.1647823303937912, y=0.34311139583587646, z=-0.0478694774210453, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.14983023703098297, y=0.5612441301345825, z=-0.02415422350168228, visibility=0.0, presence=0.0), 
#         NormalizedLandmark(x=0.12916073203086853, y=0.5043365955352783, z=-0.03581450507044792, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.11573009192943573, y=0.4651297926902771, z=-0.041705600917339325, visibility=0.0, presence=0.0), NormalizedLandmark(x=0.10488826036453247, y=0.4257879853248596, z=-0.04556342214345932, visibility=0.0, presence=0.0)]], 
#     hand_world_landmarks=[[
#         Landmark(x=-0.025892838835716248, y=0.08905906975269318, z=0.0138824712485075, visibility=0.0, presence=0.0), Landmark(x=-0.04536988213658333, y=0.05869700014591217, z=0.005643445998430252, visibility=0.0, presence=0.0), Landmark(x=-0.05830426141619682, y=0.03307032212615013, z=0.0025024712085723877, visibility=0.0, presence=0.0),
#         Landmark(x=-0.0698578953742981, y=0.0022701509296894073, z=0.0005112856160849333, visibility=0.0, presence=0.0), Landmark(x=-0.08089672029018402, y=-0.022952493280172348, z=0.0008209131192415953, visibility=0.0, presence=0.0), Landmark(x=-0.02622893452644348, y=-0.008852893486618996, z=0.006120816804468632, visibility=0.0, presence=0.0), 
#         Landmark(x=-0.019386403262615204, y=-0.03797944262623787, z=-0.001631424529477954, visibility=0.0, presence=0.0), Landmark(x=-0.018663987517356873, y=-0.05852392315864563, z=-0.012268798425793648, visibility=0.0, presence=0.0), Landmark(x=-0.020655835047364235, y=-0.07268422842025757, z=-0.03829827532172203, visibility=0.0, presence=0.0), 
#         Landmark(x=-0.002516831737011671, y=-0.005856064148247242, z=0.005941995419561863, visibility=0.0, presence=0.0), Landmark(x=0.007796382065862417, y=-0.041319116950035095, z=-0.006675416603684425, visibility=0.0, presence=0.0), Landmark(x=0.009178252890706062, y=-0.06185983493924141, z=-0.02782655507326126, visibility=0.0, presence=0.0), 
#         Landmark(x=0.009053993038833141, y=-0.08177399635314941, z=-0.04856010526418686, visibility=0.0, presence=0.0), Landmark(x=0.01781500317156315, y=0.004466043785214424, z=-0.0038042254745960236, visibility=0.0, presence=0.0), Landmark(x=0.026512958109378815, y=-0.0230767372995615, z=-0.015487153083086014, visibility=0.0, presence=0.0), 
#         Landmark(x=0.032127201557159424, y=-0.04252370074391365, z=-0.03354354575276375, visibility=0.0, presence=0.0), Landmark(x=0.03398442268371582, y=-0.06088421121239662, z=-0.051929108798503876, visibility=0.0, presence=0.0), Landmark(x=0.023546095937490463, y=0.023899078369140625, z=-0.011130912229418755, visibility=0.0, presence=0.0), 
#         Landmark(x=0.040361762046813965, y=0.006647493690252304, z=-0.014223515056073666, visibility=0.0, presence=0.0), Landmark(x=0.05057248845696449, y=-0.009799514897167683, z=-0.027603749185800552, visibility=0.0, presence=0.0), Landmark(x=0.05570831894874573, y=-0.025096409022808075, z=-0.04261374473571777, visibility=0.0, presence=0.0)], 
        
#         [Landmark(x=0.009319795295596123, y=0.08940141648054123, z=-0.004628906492143869, visibility=0.0, presence=0.0), Landmark(x=0.037293147295713425, y=0.058837078511714935, z=-0.017039645463228226, visibility=0.0, presence=0.0), Landmark(x=0.05937974527478218, y=0.03594641387462616, z=-0.013610350899398327, visibility=0.0, presence=0.0), 
#         Landmark(x=0.0783790573477745, y=0.009418831206858158, z=-0.010108941234648228, visibility=0.0, presence=0.0), Landmark(x=0.08930142968893051, y=-0.01119027379900217, z=0.005290744360536337, visibility=0.0, presence=0.0), Landmark(x=0.029386984184384346, y=-0.005238078534603119, z=0.004626668523997068, visibility=0.0, presence=0.0), 
#         Landmark(x=0.032713428139686584, y=-0.0345524325966835, z=-0.005211400333791971, visibility=0.0, presence=0.0), Landmark(x=0.032767850905656815, y=-0.05383312702178955, z=-0.014663989655673504, visibility=0.0, presence=0.0), Landmark(x=0.03641786053776741, y=-0.06531921029090881, z=-0.04552629217505455, visibility=0.0, presence=0.0), 
#         Landmark(x=0.0011002442333847284, y=-0.004641880746930838, z=0.006556863896548748, visibility=0.0, presence=0.0), Landmark(x=0.0007576316129416227, y=-0.044829629361629486, z=-0.004740395583212376, visibility=0.0, presence=0.0), Landmark(x=0.0006061424501240253, y=-0.06072406843304634, z=-0.02588605135679245, visibility=0.0, presence=0.0), 
#         Landmark(x=0.001457837875932455, y=-0.08146516233682632, z=-0.046704333275556564, visibility=0.0, presence=0.0), Landmark(x=-0.020077263936400414, y=0.0009775534272193909, z=-0.0015069927321746945, visibility=0.0, presence=0.0), Landmark(x=-0.023297633975744247, y=-0.02783234417438507, z=-0.0139374490827322, visibility=0.0, presence=0.0), 
#         Landmark(x=-0.022689975798130035, y=-0.04793510213494301, z=-0.029320545494556427, visibility=0.0, presence=0.0), Landmark(x=-0.02022061124444008, y=-0.06689207255840302, z=-0.04958503320813179, visibility=0.0, presence=0.0), Landmark(x=-0.035246092826128006, y=0.017701510339975357, z=-0.011708207428455353, visibility=0.0, presence=0.0), 
#         Landmark(x=-0.04860502481460571, y=-0.0009354995563626289, z=-0.011052142828702927, visibility=0.0, presence=0.0), Landmark(x=-0.05703653395175934, y=-0.020463258028030396, z=-0.015654459595680237, visibility=0.0, presence=0.0), Landmark(x=-0.06115962937474251, y=-0.035597655922174454, z=-0.03200802579522133, visibility=0.0, presence=0.0)]])

import numpy as np
import scipy as scipy
from scipy.optimize import minimize
def f(x):
   return .6*(1 - x[0])**2
result = scipy.optimize.minimize(f, [2, -1], method="Nelder-Mead")

optimal_param = result.x  # Optimized parameter value
max_value = -result.fun

print("Optimized Parameter:", optimal_param)
print("Maximum Value:", max_value)

